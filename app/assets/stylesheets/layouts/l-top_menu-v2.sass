@import globals
@import mixins/ellipsis2
@import mixins/icons
@import mixins/margins
@import mixins/responsive
@import mixins/retina

=top_menu_icon($content)
  +icon($content, $menu-icon-size)
  line-height: inherit !important

  &:before
    line-height: $menu_height

.l-top_menu-v2
  align-items: center
  background: #343434
  border-bottom: 1px solid #444
  color: #fff
  display: flex
  height: $menu_height
  position: relative
  z-index: 10

  &.is-fullscreen-mode
    z-index: -1

  .logo-container
    align-items: center
    display: flex
    height: $menu_height

    +iphone
      margin-left: 5px
      margin-right: 5px

    +gte_ipad
      margin-left: 13px
      margin-right: 30px

    .glyph
      +background-inline-retina('/assets/layouts/l-top_menu-v2/glyph', 'png')
      background-size: contain !important
      height: 30px
      margin-right: 3px
      margin-top: 4px
      width: 30px

      +iphone-s
        display: none

    .logo
      +background-inline-retina('/assets/layouts/l-top_menu-v2/logo', 'png')
      background-size: contain !important
      height: 30px
      margin-top: -1px
      width: 145px

  .menu
    +clearfix
    white-space: nowrap
    display: flex

    & > .entry
      +mr(2px)
      // color: $menu_link_color
      cursor: pointer
      transition: backround-color 0.3s ease


      &.calendar > a
        +top_menu_icon('\e839')

      &.info > a
        +top_menu_icon('i')

      &.moderation > a
        +top_menu_icon('\e80a')

      & > a,
      & > span
        color: inherit
        font-size: 14px
        letter-spacing: 0.5px
        line-height: $menu_height
        padding: 0 15px

        +iphone-s
          padding: 0 10px

        +iphone
          padding: 0 13px

      &.selected, &:hover
        background-color: lighten(#4a4a4a, 4%)
        color: white
        text-decoration: none

      & > .submenu
        margin-top: 0
        margin-left: 0

      &:active
        background-color: #4A4A4A
        // color: $menu_link_color !important

      & > .contest
        margin: 7px 5px 0 0

        &:before
          position: absolute
          margin-left: -5px
          line-height: 15px

  .submenu
    width: 100%

    +iphone
      display: none !important

  .mobile
    margin-left: auto

    +gt_ipad
      display: none

    .forum
      +top_menu_icon('f')

    .top_menu-toggler
      +top_menu_icon('m')

    .search-toggler
      +top_menu_icon('s')

  .userbox
    align-items: center
    display: flex
    margin-left: auto

    +iphone
      display: none

    .mail > a
      +top_menu_icon('\e81f')

    .avatar
      & > a
        +ellipsis2
        align-items: center
        color: #fff
        display: flex
        position: relative

        +gte_ipad
          min-width: 150px
          max-width: 300px

        img
          height: 30px

        .nickname
          +ellipsis2
          font-size: 18px
          letter-spacing: 0.5px
          margin-left: 10px
          margin-right: 25px

        .arrow-down
          +icon('\e846', $menu-icon-size)
          margin-top: 3px
          position: absolute
          right: 10px
